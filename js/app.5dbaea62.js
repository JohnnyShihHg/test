(function(){"use strict";var t={9378:function(t,o,n){var a=n(9242),e=n(3396),r=n(7139);function s(t,o,n,a,s,c){const l=(0,e.up)("navbarView"),i=(0,e.up)("router-view"),u=(0,e.up)("footerView");return(0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e.Wm)(l),(0,e._)("div",{class:(0,r.C_)(["goTop iconfont ml-gotop",s.isTop?"goTopAfter":""]),onClick:o[0]||(o[0]=t=>c.goTop())},"Top",2),(0,e.Wm)(i),(0,e.Wm)(u)],64)}const c={class:"container"},l={class:"navbar mb-5"},i=(0,e.Uk)(" | "),u=(0,e.Uk)("Home"),d=(0,e.Uk)(" | "),p=(0,e.Uk)("Shop"),m=(0,e.Uk)(" | "),h=(0,e.Uk)("Login"),f=(0,e.Uk)(" | "),g=(0,e.Uk)("Sign up"),v=(0,e.Uk)(" | ");function y(t,o){const n=(0,e.up)("router-link");return(0,e.wg)(),(0,e.iD)("div",c,[(0,e._)("nav",l,[i,(0,e.Wm)(n,{to:"/home"},{default:(0,e.w5)((()=>[u])),_:1}),d,(0,e.Wm)(n,{to:"/shop"},{default:(0,e.w5)((()=>[p])),_:1}),m,(0,e.Wm)(n,{to:"/login"},{default:(0,e.w5)((()=>[h])),_:1}),f,(0,e.Wm)(n,{to:"/signup"},{default:(0,e.w5)((()=>[g])),_:1}),v])])}var w=n(89);const b={},_=(0,w.Z)(b,[["render",y]]);var C=_;const k={class:"copyright"};function F(t,o,n,a,r,s){return(0,e.wg)(),(0,e.iD)("div",k," HiC © 2022 沒有版權，沒人想印 ")}var O={};const T=(0,w.Z)(O,[["render",F],["__scopeId","data-v-2fe4d8a3"]]);var P=T,S={components:{navbarView:C,footerView:P},data(){return{scrollNum:0,isTop:!1}},mounted(){window.addEventListener("scroll",(()=>{let t=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset;this.scrollNum=t,this.isTop=t>=100}))},methods:{goTop(){document.documentElement.scrollTop=0}}};const D=(0,w.Z)(S,[["render",s]]);var V=D,I=n(678),U=n.p+"img/img.f347fa9a.jpg";const j=(0,e.uE)('<h1>HiC 咖啡</h1><div class="frontPage container"><div class="contents row mt-5"><div class="col-md-6 pt-5 pb-5"><img alt="Vue logo" class="w-100" src="'+U+'"></div><div class="col-md-6 pt-5 pb-5"><h2>咖啡</h2><p>我就喜歡喝咖啡</p></div></div></div>',2);function A(t,o){return j}const E={},x=(0,w.Z)(E,[["render",A]]);var Z=x;const q={class:"container"},H=(0,e._)("h1",null,"註冊帳號",-1),W={class:"row g-3 needs-validation",novalidate:""},K={class:"col-md-12"},M=(0,e._)("label",{for:"validationCustom03",class:"form-label"},"帳號",-1),z=(0,e._)("div",{class:"invalid-feedback"},"請輸入帳號",-1),L={class:"col-md-12"},Y=(0,e._)("label",{for:"validationCustom03",class:"form-label"},"信箱",-1),N=(0,e._)("div",{class:"invalid-feedback"},"請輸入正確的信箱格式",-1),J={class:"col-md-12"},B=(0,e._)("label",{for:"validationCustom03",class:"form-label"},"密碼",-1),G=(0,e._)("div",{class:"invalid-feedback"},"請輸入密碼",-1),R={id:"signupForm",class:"col-6"},X={class:"col-6"},Q={id:"logOutForm",class:"col-12 d-none"};function tt(t,o,n,r,s,c){const l=(0,e.up)("vue-recaptcha");return(0,e.wg)(),(0,e.iD)("div",q,[H,(0,e._)("form",W,[(0,e._)("div",K,[M,(0,e.wy)((0,e._)("input",{"onUpdate:modelValue":o[0]||(o[0]=t=>s.account=t),type:"text",class:"form-control",required:""},null,512),[[a.nr,s.account]]),z]),(0,e._)("div",L,[Y,(0,e.wy)((0,e._)("input",{"onUpdate:modelValue":o[1]||(o[1]=t=>s.email=t),type:"email",class:"form-control",pattern:".+@gmail\\.com",required:""},null,512),[[a.nr,s.email]]),N]),(0,e._)("div",J,[B,(0,e.wy)((0,e._)("input",{"onUpdate:modelValue":o[2]||(o[2]=t=>s.password=t),type:"password",class:"form-control",required:""},null,512),[[a.nr,s.password]]),G]),(0,e.Wm)(l,{sitekey:s.SITEKEY,loadRecaptchaScript:!0,onVerify:c.checkToken},null,8,["sitekey","onVerify"]),(0,e._)("div",R,[(0,e._)("button",{onClick:o[3]||(o[3]=(...t)=>c.signup&&c.signup(...t)),class:"btn btn-primary",type:"submit"}," 註冊 ")]),(0,e._)("div",X,[(0,e._)("button",{onClick:o[4]||(o[4]=(...t)=>c.cancel&&c.cancel(...t)),class:"btn btn-primary",type:"submit"}," 回首頁 ")]),(0,e._)("div",Q,[(0,e._)("button",{onClick:o[5]||(o[5]=(...t)=>c.logout&&c.logout(...t)),class:"btn btn-primary",id:"submit",type:"submit"}," 登出 ")])])])}var ot=n(6265),nt=n.n(ot),at=n(7676),et={components:{VueRecaptcha:at.Z},data(){return{signUpSuccess:!1,account:"",password:"",email:"",SITEKEY:"6Lfog2kgAAAAAF8HiMy6V9VFqXQSgnx_B5XnIlM6",reacptchaToken:""}},methods:{cancel(){this.$router.push("./home")},async checkToken(t){data.append("reacptchaToken",t);let{data:o}=await nt().post("http://35.201.162.58/test/reacptchaToken.php",data);1==o.status?alert("驗證成功"):alert("逼逼! 機器人!")},async signup(){let t=new FormData,o=this;t.append("account",o.account),t.append("password",o.password),t.append("email",o.email);let{data:n}=await nt().post("http://35.201.162.58/test/doSignup.php",t);1==n.status?(localStorage.setItem("userAccount",JSON.stringify(n)),alert("註冊成功"),this.$router.push("./login"),$("#logOutForm").removeClass("d-none"),$("#signupForm").addClass("d-none")):alert("帳號已重複，請使用別的帳號")},logout(){localStorage.removeItem("userAccount"),$("#logOutForm").addClass("d-none"),$("#signupForm").removeClass("d-none"),this.$router.push("./home")}},mounted(){(function(){var t=document.querySelectorAll(".needs-validation");Array.prototype.slice.call(t).forEach((function(t){t.addEventListener("submit",(function(o){t.checkValidity()||(o.preventDefault(),o.stopPropagation()),t.classList.add("was-validated")}),!1)}))})()}};const rt=(0,w.Z)(et,[["render",tt]]);var st=rt;const ct={class:"container"},lt=(0,e._)("h1",null,"登入帳號",-1),it={class:"row g-3 needs-validation",novalidate:""},ut={class:"col-md-12"},dt=(0,e._)("label",{class:"form-label"},"帳號",-1),pt=(0,e._)("div",{class:"invalid-feedback"},"請輸入帳號",-1),mt={class:"col-md-12"},ht=(0,e._)("label",{class:"form-label"},"密碼",-1),ft=(0,e._)("div",{class:"invalid-feedback"},"請輸入密碼",-1),gt={id:"signupForm",class:"col-12"},vt={id:"logOutForm",class:"col-12 d-none"};function yt(t,o,n,r,s,c){return(0,e.wg)(),(0,e.iD)("div",ct,[lt,(0,e._)("form",it,[(0,e._)("div",ut,[dt,(0,e.wy)((0,e._)("input",{"onUpdate:modelValue":o[0]||(o[0]=t=>s.account=t),type:"text",class:"form-control",required:""},null,512),[[a.nr,s.account]]),pt]),(0,e._)("div",mt,[ht,(0,e.wy)((0,e._)("input",{"onUpdate:modelValue":o[1]||(o[1]=t=>s.password=t),type:"password",class:"form-control",required:""},null,512),[[a.nr,s.password]]),ft]),(0,e._)("div",gt,[(0,e._)("button",{onClick:o[2]||(o[2]=(...t)=>c.login&&c.login(...t)),class:"btn btn-primary",type:"submit"},"登入")]),(0,e._)("div",vt,[(0,e._)("button",{onClick:o[3]||(o[3]=(...t)=>c.logout&&c.logout(...t)),class:"btn btn-primary",type:"submit"},"登出")])])])}var wt={data(){return{loginSuccess:!1,account:"",password:""}},methods:{async login(){let t=new FormData,o=this;t.append("account",o.account),t.append("password",o.password);let{data:n}=await nt().post("http://35.201.162.58/test/doLogin.php",t);console.log(o.account),console.log(n),1==n.status?(localStorage.setItem("token",JSON.stringify(n.userKey)),$("#logOutForm").removeClass("d-none"),$("#signupForm").addClass("d-none"),alert("成功配對,開始購物"),o.$router.push("./shop")):alert("帳號密碼有誤")},logout(){localStorage.removeItem("token"),$("#logOutForm").addClass("d-none"),$("#signupForm").removeClass("d-none"),this.$router.push("./home")}},mounted(){}};const bt=(0,w.Z)(wt,[["render",yt]]);var _t=bt;const Ct=(0,e._)("h1",null,"商店",-1),kt={class:"d-flex flex-wrap container"};function Ft(t,o,n,a,r,s){const c=(0,e.up)("Product");return(0,e.wg)(),(0,e.iD)("div",null,[Ct,(0,e._)("a",{onClick:o[0]||(o[0]=t=>r.productFilter="all"),class:"btn btn-primary m-3",href:"javascript:;"},"所有商品"),(0,e._)("a",{onClick:o[1]||(o[1]=t=>r.productFilter="cart"),class:"btn btn-primary",href:"javascript:;"},"我的選購"),(0,e._)("ul",kt,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(s.allProduct,(t=>((0,e.wg)(),(0,e.j4)(c,(0,e.dG)({onAddCart:s.putInMyCart,key:t.id},t),null,16,["onAddCart"])))),128))]),"cart"==r.productFilter?((0,e.wg)(),(0,e.iD)("button",{key:0,class:"btn",onClick:o[2]||(o[2]=(...t)=>s.pay&&s.pay(...t))},"結帳")):(0,e.kq)("",!0)])}const Ot={class:"products card col-md-3 p-3 m-5"},Tt=(0,e._)("img",{class:"w-100",src:U,alt:""},null,-1),Pt={class:"card-body h-100"},St={"card-title":""},$t={class:"my-2 d-flex justify-content-between"};function Dt(t,o,n,a,s,c){return(0,e.wg)(),(0,e.iD)("li",Ot,[Tt,(0,e._)("div",Pt,[(0,e._)("h5",St,"品名: "+(0,r.zw)(n.name),1),(0,e._)("p",null,"產地: "+(0,r.zw)(n.origin),1),(0,e._)("p",null,"焙度: "+(0,r.zw)(n.roast),1),(0,e._)("p",null,"風味描述: "+(0,r.zw)(n.taste),1),(0,e._)("p",null,"每半磅售價: "+(0,r.zw)(n.price),1)]),(0,e._)("div",$t,[(0,e._)("button",{onClick:o[0]||(o[0]=(...t)=>c.reduceCount&&c.reduceCount(...t)),class:"btn btn-primary"},"-"),(0,e._)("span",null,(0,r.zw)(s.count),1),(0,e._)("button",{onClick:o[1]||(o[1]=(...t)=>c.addCount&&c.addCount(...t)),class:"btn btn-primary"},"+")]),(0,e._)("button",{onClick:o[2]||(o[2]=(...t)=>c.addCart&&c.addCart(...t)),class:"btn btn-primary"},"加到購物車")])}var Vt={data(){return{count:0}},props:["name","origin","roast","taste","price","image","products_id"],methods:{addCart(){this.$emit("addCart",{id:this.products_id,count:this.count}),alert("成功加入購物車")},addCount(){this.count++,this.count=this.count>5?5:this.count},reduceCount(){this.count>0&&this.count--}}};const It=(0,w.Z)(Vt,[["render",Dt]]);var Ut=It,jt={data(){return{products:[],productFilter:"all",token:""}},computed:{allProduct(){switch(this.productFilter){case"all":return this.products;case"cart":localStorage.setItem("productCount",JSON.stringify(this.products));let t=this.products.filter((t=>t.count>0));return t}}},methods:{putInMyCart(t){this.products.map((function(o){o.id==t.products_id&&(o.count=t.count)}))},async pay(){let t=0;this.products.forEach((function(o){t+=o.price*o.count}));let o=localStorage.getItem("token"),n=localStorage.getItem("productCount");data.append("token",o),data.append("productCount",n);let{data:a}=await nt().post("addCart.php",data);1==a.status?alert(`結帳成功，您的購物單號${a.cart_list_id}為總額為${t}元`):(alert("帳號認證錯誤，請重新登入"),this.$router.push("./login"))}},components:{Product:Ut},async mounted(){const t=await nt().get("http://35.201.162.58/test.php");this.products=t.data,console.log(t),this.products.forEach((function(t){t.count=0}))}};const At=(0,w.Z)(jt,[["render",Ft]]);var Et=At;function xt(t,o,n,a,r,s){const c=(0,e.up)("cartPay");return(0,e.wg)(),(0,e.j4)(c,{onCartPay:s.setPay},null,8,["onCartPay"])}var Zt={data(){return{finalCartPay:[]}},components:{cartPay:Et},methods:{setPay(t){this.finalCartPay.push(t)}}};const qt=(0,w.Z)(Zt,[["render",xt]]);var Ht=qt;const Wt=(0,e._)("h1",null,"商店",-1),Kt={class:"d-flex flex-wrap container"};function Mt(t,o,n,a,r,s){const c=(0,e.up)("Product");return(0,e.wg)(),(0,e.iD)("div",null,[Wt,(0,e._)("ul",Kt,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(r.products,(t=>((0,e.wg)(),(0,e.j4)(c,(0,e.dG)({onAddCart:s.putInMyCart,key:t.id},t),null,16,["onAddCart"])))),128))])])}var zt={data(){return{products:[],myCart:[]}},methods:{putInMyCart(t){this.myCart.push(t),console.log(this.myCart)}},components:{Product:Ut},async mounted(){const t=await nt().get("http://35.201.162.58/test.php");this.products=t.data.coffee,console.log(this.products)}};const Lt=(0,w.Z)(zt,[["render",Mt]]);var Yt=Lt;const Nt={class:"container"},Jt=(0,e._)("h1",null,"歡迎來到HiC咖啡，點擊圖片進入首頁",-1);function Bt(t,o,n,a,r,s){return(0,e.wg)(),(0,e.iD)("div",Nt,[Jt,(0,e._)("img",{src:"https://i.imgur.com/3TKBKDf.jpg",alt:"",onClick:o[0]||(o[0]=(...t)=>s.push&&s.push(...t)),class:"pic"})])}var Gt={methods:{push(){this.$router.push("./home")}}};const Rt=(0,w.Z)(Gt,[["render",Bt]]);var Xt=Rt;const Qt=[{path:"/",name:"firstpage",component:Xt},{path:"/home",name:"home",component:Z},{path:"/signup",name:"signup",component:st},{path:"/login",name:"login",component:_t},{path:"/shop",name:"shop",component:Et},{path:"/cartPay",name:"cartPay",component:Ht},{path:"/test",name:"test",component:Yt}],to=(0,I.p7)({history:(0,I.r5)(),routes:Qt});var oo=to;(0,a.ri)(V).use(oo).mount("#app")}},o={};function n(a){var e=o[a];if(void 0!==e)return e.exports;var r=o[a]={exports:{}};return t[a](r,r.exports,n),r.exports}n.m=t,function(){var t=[];n.O=function(o,a,e,r){if(!a){var s=1/0;for(u=0;u<t.length;u++){a=t[u][0],e=t[u][1],r=t[u][2];for(var c=!0,l=0;l<a.length;l++)(!1&r||s>=r)&&Object.keys(n.O).every((function(t){return n.O[t](a[l])}))?a.splice(l--,1):(c=!1,r<s&&(s=r));if(c){t.splice(u--,1);var i=e();void 0!==i&&(o=i)}}return o}r=r||0;for(var u=t.length;u>0&&t[u-1][2]>r;u--)t[u]=t[u-1];t[u]=[a,e,r]}}(),function(){n.n=function(t){var o=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(o,{a:o}),o}}(),function(){n.d=function(t,o){for(var a in o)n.o(o,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:o[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)}}(),function(){n.p=""}(),function(){var t={143:0};n.O.j=function(o){return 0===t[o]};var o=function(o,a){var e,r,s=a[0],c=a[1],l=a[2],i=0;if(s.some((function(o){return 0!==t[o]}))){for(e in c)n.o(c,e)&&(n.m[e]=c[e]);if(l)var u=l(n)}for(o&&o(a);i<s.length;i++)r=s[i],n.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return n.O(u)},a=self["webpackChunkclasswork"]=self["webpackChunkclasswork"]||[];a.forEach(o.bind(null,0)),a.push=o.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(9378)}));a=n.O(a)})();
//# sourceMappingURL=app.5dbaea62.js.map